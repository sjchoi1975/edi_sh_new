거래처 관리에
거래처 - 담당업체
거래처 - 문전약국 매핑을 해야 해.

1안
현재 개발된 거래처 관리 - 거래처 목록에서 진행

2안
거래처 관리에 업체 지정, 문전약국 지정 등의 이름으로 별도 메뉴를 만들어 하는 안

2안이 안정적일거 같애


업체 지정
목록 항목
거래처코드 병의원명 사업자등록번호 원장명 주소 거래처 수 거래처명 거래처 사업자등록번호 수정 추가


추가 모달
업체 선택 검색 (자동 완성)
검색결과
선택 업체명 사업자등록번호 대표자
체크박스 복수 가능
취소 저장



담당업체 지정과 문전약국 지정은 동일한 방식이야.
지금은 담당업체 지정까지만 할거야.

담당업체 지정 메뉴의 테이블 목록의 항목은 아래와 같아.

거래처코드, 병의원명, 사업자등록번호, 원장명, 주소, 추가, 업체 수,업체명 ,업체 사업자등록번호, 삭제

거래처코드부터 주소까지는 거래처 목록에서 그대로 불러오면 돼.
거래처 목록에서 활성화 상태인거만!

뒤에 추가된거를 설명할게

추가 : 해당 거래처(병의원)에 업체 매핑
업체 수 : 해당 행의 거래처와 매핑된 담당 업체 수 (0이면 "-"으로 표기, 대부분은 1, 가끔 2,3.. 복수일 수 있음)
업체명, 업체 사업자등록번호 : 지정된 업체의 정보 (0(-)일땐 그냥 빈칸으로, 복수일땐 가장 마지막 등록한 업체명과 사업자등록번호만)

(이미지 참조)
업체 수가 2 이상일땐  업체 수 옆에 아래포 펼치기 아이콘(꺽쇠) 표기
누르면 밑으로 다른 업체 정보 (업체명, 사업자등록번호) 노출
모두 삭제 버튼까지 붙어 있음

(이미지 참조)
추가 버튼 누르면 추가 모달
현재 업체 관리 - 업체 목록 방식
처음엔 업체들이 다 나오다가, 앞에 체크박스 있음
검색창에 "업체명, 사업자등록번호, 대표자명 입력할때마다 필터링"
선택하고 (복수 선택 가능)
아래에 취소, 지정 버튼

--------------------------------------------------------------------------------------------------------------


1. 담당업체 지정 화면(메뉴) 메인 테이블

목록 컬럼

거래처코드, 병의원명, 사업자등록번호, 원장명, 주소
→ 거래처 목록에서 활성(활성화 상태)인 거래처만 불러옴

추가 : 각 거래처(병의원)별로 담당업체를 매핑하는 버튼 (모달 띄움)
업체 수 : 해당 거래처에 매핑된 업체의 수 (0이면 “-”)
2개 이상이면 아래로 펼치기(꺽쇠) 아이콘 표시
업체명, 업체 사업자등록번호 : 매핑된 업체가 1개면 그 업체 정보 표시, 2개 이상이면 가장 마지막에 등록한 업체 정보만 한 줄에 표시
펼치기 하면 나머지 업체 정보도 하단에 노출
삭제 : 각 업체별로 삭제 버튼(빨간색) 표시

2. 추가 버튼(모달)

모달 내용
업체 목록 전체(체크박스, 업체명, 사업자등록번호, 대표자명, 사업장 소재지)
상단에 검색창(업체명, 사업자등록번호, 대표자명으로 실시간 필터링)
복수 선택 가능
하단에 “취소”, “지정” 버튼

3. 동작 흐름
거래처별로 “추가” 버튼 클릭 → 모달에서 업체 선택 → “지정” 클릭 시 해당 거래처에 업체 매핑
업체 수가 2개 이상이면 펼치기 아이콘 → 클릭 시 하위에 업체명/사업자등록번호/삭제 버튼 모두 노출

즉, 거래처별로 담당업체를 여러 개 매핑할 수 있고,
목록에서 한눈에 업체 수와 최근 등록 업체를 볼 수 있으며,
펼치기로 전체 업체를 확인/삭제할 수 있는 구조입니다.
추가 모달은 체크박스+검색+복수선택 방식입니다.

--------------------------------------------------------------------------------------------------------------

